<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftPay - Digital Payment App</title>
    <link href="style.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#161b22" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="SwiftPay">
    <link rel="apple-touch-icon" href="./icon-192.png">
    <link rel="shortcut icon" href="./icon-192.png"></head>
<body>
    <!-- Splash Screen -->
    <div class="splash-screen" id="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">
                <div class="logo-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <h1 class="logo-text">SwiftPay</h1>
            </div>
            <div class="splash-tagline">
                <p>Fast. Secure. Simple.</p>
            </div>
            <div class="splash-loader">
                <div class="loader-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
        </div>
        <div class="splash-waves">
            <div class="wave wave1"></div>
            <div class="wave wave2"></div>
            <div class="wave wave3"></div>
        </div>
    </div>

    <div class="app-container" id="main-app">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-left">
                    <i class="fas fa-bars menu-icon"></i>
                    <span class="nav-title">SwiftPay</span>
                </div>
                <div class="nav-right">
                    <button class="fullscreen-btn" onclick="toggleFullscreen()" title="Toggle Fullscreen">
                        <i class="fas fa-expand" id="fullscreen-icon"></i>
                    </button>
                    <i class="fas fa-bell notification-icon"></i>
                    <div class="profile-avatar">
                        <img src="assets/pfp.png" alt="Profile">
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Screen -->
            <div class="screen active" id="home-screen">
                <!-- Header Section -->
                <div class="header-section">
                    <div class="user-profile">
                        <div class="profile-avatar-large">
                            <img src="assets/pfp.png" alt="Profile">
                        </div>
                        <div class="welcome-text">
                            <p class="welcome-greeting">Welcome,</p>
                            <h2 class="user-name">User</h2>
                        </div>
                    </div>

                    <!-- Balance Wallet Tabs -->
                    <div class="wallet-tabs">
                        <button class="wallet-tab active" onclick="showBalanceTab()">Balance</button>
                        <button class="wallet-tab" onclick="showWalletTab()">Wallet</button>
                    </div>
                </div>

                <!-- Balance Content -->
                <div id="balance-content">
                    <!-- Balance Card -->
                    <div class="balance-card-new">
                        <div class="balance-content">
                            <span class="balance-label">Total Balance</span>
                            <div class="balance-amount-new">
                                <span class="currency">$</span>
                                <span id="main-balance">2,430.00</span>
                                <button class="balance-toggle-btn" onclick="toggleBalanceVisibility()" title="Toggle balance visibility">
                                    <i class="fas fa-eye" id="balance-eye-icon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Wallet Management Content -->
                <div id="wallet-content" style="display: none;">
                    <div class="wallet-management-section">
                        <div class="wallet-section-header">
                            <h3>My Wallets</h3>
                            <button class="create-wallet-btn" onclick="showCreateWalletModal()">
                                <i class="fas fa-plus"></i>
                                Create Wallet
                            </button>
                        </div>
                        <div class="wallet-accounts-list" id="wallet-accounts-list">
                            <!-- Wallet accounts will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="action-btn" onclick="showPaymentScreen()">
                        <div class="action-icon">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <span>Send to</span>
                    </button>
                    <button class="action-btn" onclick="showReceiveScreen()">
                        <div class="action-icon">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                        <span>Request</span>
                    </button>
                    <button class="action-btn" onclick="showScanScreen()">
                        <div class="action-icon">
                            <i class="fas fa-qrcode"></i>
                        </div>
                        <span>Scan</span>
                    </button>
                    <button class="action-btn" onclick="showRewardsScreen()">
                        <div class="action-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <span>Rewards</span>
                    </button>
                </div>

                <!-- Overview Cards -->
                <div class="overview-section">
                    <div class="overview-card">
                        <div class="overview-header">
                            <h3>This Month</h3>
                            <div class="overview-tabs">
                                <button class="tab-btn active">Income</button>
                                <button class="tab-btn">Expenses</button>
                            </div>
                        </div>
                        <div class="overview-chart">
                            <canvas id="spending-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Transaction History -->
                <div class="transaction-history">
                    <div class="section-header">
                        <h3>Transaction history</h3>
                        <button class="view-all-btn" onclick="showHistoryScreen()">View all</button>
                    </div>
                    <div class="transaction-list-new" id="recent-transactions">
                        <!-- Transactions will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Payment Screen -->
            <div class="screen" id="payment-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Send Money</h2>
                </div>

                <div class="payment-form">
                    <div class="form-group">
                        <label>Recipient Name</label>
                        <input type="text" id="recipient-name" placeholder="Enter recipient name">
                    </div>

                    <div class="form-group">
                        <label>UPI ID / Phone Number</label>
                        <input type="text" id="recipient-upi" placeholder="example@upi or +1234567890">
                    </div>

                    <div class="form-group">
                        <label>Amount</label>
                        <div class="amount-input">
                            <span class="currency-symbol">$</span>
                            <input type="number" id="payment-amount" placeholder="0.00" step="0.01">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Note (Optional)</label>
                        <input type="text" id="payment-note" placeholder="What's this for?">
                    </div>

                    <button class="primary-btn" onclick="showPinScreen('payment')">
                        Continue to Pay
                    </button>
                </div>
            </div>

            <!-- PIN Screen -->
            <div class="screen" id="pin-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBackFromPin()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Enter PIN</h2>
                </div>

                <div class="pin-container">
                    <div class="pin-display">
                        <div class="pin-dots">
                            <div class="pin-dot"></div>
                            <div class="pin-dot"></div>
                            <div class="pin-dot"></div>
                            <div class="pin-dot"></div>
                        </div>
                    </div>

                    <div class="pin-keypad">
                        <button class="pin-btn" onclick="enterPin('1')">1</button>
                        <button class="pin-btn" onclick="enterPin('2')">2</button>
                        <button class="pin-btn" onclick="enterPin('3')">3</button>
                        <button class="pin-btn" onclick="enterPin('4')">4</button>
                        <button class="pin-btn" onclick="enterPin('5')">5</button>
                        <button class="pin-btn" onclick="enterPin('6')">6</button>
                        <button class="pin-btn" onclick="enterPin('7')">7</button>
                        <button class="pin-btn" onclick="enterPin('8')">8</button>
                        <button class="pin-btn" onclick="enterPin('9')">9</button>
                        <button class="pin-btn delete" onclick="deletePin()">
                            <i class="fas fa-backspace"></i>
                        </button>
                        <button class="pin-btn" onclick="enterPin('0')">0</button>
                        <button class="pin-btn confirm-pay-btn" id="confirm-payment-btn" onclick="confirmPayment()" style="display: none;">
                            <i class="fas fa-check"></i>
                        </button>
                    </div>

                    <!-- Processing Animation -->
                    <div class="payment-processing" id="payment-processing" style="display: none;">
                        <div class="processing-spinner">
                            <i class="fas fa-spinner fa-spin"></i>
                        </div>
                        <p>Processing Payment...</p>
                    </div>
                </div>
            </div>

            <!-- Success Screen -->
            <div class="screen" id="success-screen">
                <div class="success-animation">
                    <div class="success-checkmark">
                        <i class="fas fa-check"></i>
                    </div>
                    <h2>Payment Successful!</h2>
                    <div class="success-details">
                        <p class="success-amount"><span id="success-amount">$0.00</span></p>
                        <p class="success-recipient">to <span id="success-recipient">Recipient</span></p>
                        <p class="success-time" id="success-time"></p>
                    </div>
                    <div class="success-actions" style="flex-direction: column; gap: 16px;">
                        <button class="secondary-btn" onclick="showPaymentDetails()">
                            <i class="fas fa-receipt"></i>
                            View Details
                        </button>
                        <button class="primary-btn" onclick="showHomeScreen()">
                            Done
                        </button>
                    </div>
                </div>
            </div>

            <!-- Scan Screen -->
            <div class="screen" id="scan-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Scan QR Code</h2>
                </div>

                <div class="scan-container">
                    <div class="scan-frame">
                        <video id="qr-video" autoplay playsinline></video>
                        <canvas id="qr-canvas" style="display: none;"></canvas>
                        <div class="scan-corners">
                            <div class="corner top-left"></div>
                            <div class="corner top-right"></div>
                            <div class="corner bottom-left"></div>
                            <div class="corner bottom-right"></div>
                        </div>
                        <div class="scan-line"></div>
                    </div>

                    <p class="scan-instruction" id="scan-status">Click "Start Camera" to begin scanning. Your browser will ask for camera permission.</p>

                    <div class="scan-actions">
                        <button class="scan-action-btn" onclick="toggleCamera()">
                            <i class="fas fa-camera" id="camera-icon"></i>
                            <span id="camera-text">Start Camera</span>
                        </button>
                        <button class="scan-action-btn" onclick="toggleFlash()" id="flash-btn" style="display: none;">
                            <i class="fas fa-flash"></i>
                            <span>Flash</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Receive Screen -->
            <div class="screen" id="receive-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Receive Money</h2>
                </div>

                <div class="receive-container">
                    <div class="qr-code-container">
                        <div class="qr-code">
                            <img src="assets/swift-pay-qr.png" alt="SwiftPay QR Code" class="qr-code-image">
                        </div>
                    </div>

                    <div class="receive-info">
                        <h3>Atharva Phatangare</h3>
                        <p>atharvaphatangare@fam</p>
                    </div>

                    <div class="receive-actions">
                        <button class="secondary-btn">
                            <i class="fas fa-share"></i>
                            Share QR Code
                        </button>
                        <button class="secondary-btn">
                            <i class="fas fa-download"></i>
                            Save QR Code
                        </button>
                    </div>
                </div>
            </div>

            <!-- History Screen -->
            <div class="screen" id="history-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Transaction History</h2>
                </div>

                <div class="history-filters">
                    <button class="filter-btn active">All</button>
                    <button class="filter-btn">Sent</button>
                    <button class="filter-btn">Received</button>
                    <button class="filter-btn">Pending</button>
                </div>

                <div class="transaction-list" id="all-transactions">
                    <!-- Full transaction history will be populated by JavaScript -->
                </div>
            </div>

            <!-- Bills Screen -->
            <div class="screen" id="bills-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Bills & Payments</h2>
                </div>

                <div class="bills-container">
                    <!-- Bill Categories -->
                    <div class="bill-categories">
                        <h3>Categories</h3>
                        <div class="category-grid">
                            <button class="category-btn" onclick="showBillCategory('electricity')">
                                <div class="category-icon electricity">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <span>Electricity</span>
                            </button>
                            <button class="category-btn" onclick="showBillCategory('water')">
                                <div class="category-icon water">
                                    <i class="fas fa-tint"></i>
                                </div>
                                <span>Water</span>
                            </button>
                            <button class="category-btn" onclick="showBillCategory('internet')">
                                <div class="category-icon internet">
                                    <i class="fas fa-wifi"></i>
                                </div>
                                <span>Internet</span>
                            </button>
                            <button class="category-btn" onclick="showBillCategory('mobile')">
                                <div class="category-icon mobile">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <span>Mobile</span>
                            </button>
                            <button class="category-btn" onclick="showBillCategory('gas')">
                                <div class="category-icon gas">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <span>Gas</span>
                            </button>
                            <button class="category-btn" onclick="showBillCategory('insurance')">
                                <div class="category-icon insurance">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <span>Insurance</span>
                            </button>
                        </div>
                    </div>

                    <!-- Recent Bills -->
                    <div class="recent-bills">
                        <div class="section-header">
                            <h3>Recent Bills</h3>
                            <button class="view-all-btn" onclick="showAllBills()">View all</button>
                        </div>
                        <div class="bills-list" id="recent-bills-list">
                            <!-- Bills will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Quick Pay -->
                    <div class="quick-pay-section">
                        <h3>Quick Pay</h3>
                        <div class="quick-pay-form">
                            <div class="form-group">
                                <label>Bill Reference Number</label>
                                <input type="text" id="bill-reference" placeholder="Enter reference number">
                            </div>
                            <div class="form-group">
                                <label>Amount</label>
                                <div class="amount-input">
                                    <span class="currency-symbol">$</span>
                                    <input type="number" id="bill-amount" placeholder="0.00" step="0.01">
                                </div>
                            </div>
                            <button class="primary-btn" onclick="payBillQuick()">
                                Pay Bill
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rewards Screen -->
            <div class="screen" id="rewards-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Rewards & Offers</h2>
                </div>

                <div class="rewards-container">
                    <!-- Points Balance -->
                    <div class="points-balance-card">
                        <div class="points-content">
                            <div class="points-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="points-info">
                                <h3>Your Points</h3>
                                <div class="points-amount" id="user-points">2,450</div>
                            </div>
                            <button class="redeem-btn" onclick="showRedeemOptions()">
                                Redeem
                            </button>
                        </div>
                    </div>

                    <!-- Cashback Section -->
                    <div class="rewards-section">
                        <h3>Cashback Offers</h3>
                        <div class="offers-grid">
                            <div class="offer-card">
                                <div class="offer-icon cashback">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="offer-details">
                                    <h4>5% Cashback</h4>
                                    <p>On all bill payments</p>
                                    <span class="offer-validity">Valid till Dec 31</span>
                                </div>
                            </div>
                            <div class="offer-card">
                                <div class="offer-icon shopping">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                                <div class="offer-details">
                                    <h4>10% Cashback</h4>
                                    <p>On online shopping</p>
                                    <span class="offer-validity">Valid till Jan 15</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Referral Section -->
                    <div class="rewards-section">
                        <h3>Refer & Earn</h3>
                        <div class="referral-card">
                            <div class="referral-content">
                                <div class="referral-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="referral-info">
                                    <h4>Invite Friends</h4>
                                    <p>Get $25 for each friend who joins</p>
                                    <p class="referral-stats">You've earned $150 from 6 referrals</p>
                                </div>
                                <button class="invite-btn" onclick="shareReferralCode()">
                                    Invite Now
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Scratch Cards -->
                    <div class="rewards-section">
                        <h3>Daily Rewards</h3>
                        <div class="scratch-cards">
                            <div class="scratch-card" onclick="scratchCard(1)">
                                <div class="scratch-overlay">
                                    <i class="fas fa-hand-pointer"></i>
                                    <span>Scratch to Win!</span>
                                </div>
                                <div class="scratch-content">
                                    <i class="fas fa-gift"></i>
                                    <span>$5 Cashback</span>
                                </div>
                            </div>
                            <div class="scratch-card" onclick="scratchCard(2)">
                                <div class="scratch-overlay">
                                    <i class="fas fa-hand-pointer"></i>
                                    <span>Scratch to Win!</span>
                                </div>
                                <div class="scratch-content">
                                    <i class="fas fa-star"></i>
                                    <span>100 Points</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Achievement Badges -->
                    <div class="rewards-section">
                        <h3>Your Achievements</h3>
                        <div class="achievements-grid">
                            <div class="achievement-badge earned">
                                <i class="fas fa-medal"></i>
                                <span>First Payment</span>
                            </div>
                            <div class="achievement-badge earned">
                                <i class="fas fa-trophy"></i>
                                <span>Bill Master</span>
                            </div>
                            <div class="achievement-badge">
                                <i class="fas fa-crown"></i>
                                <span>VIP Member</span>
                            </div>
                            <div class="achievement-badge">
                                <i class="fas fa-fire"></i>
                                <span>Streak King</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cards Screen -->
            <div class="screen" id="cards-screen">
                <div class="cards-header">
                    <button class="close-btn" onclick="goBack()">
                        <i class="fas fa-times"></i>
                    </button>
                    <button class="settings-btn">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>

                <div class="cards-content">
                    <div class="card-title">
                        <h2>Your SwiftCard</h2>
                        <p>Swipe down for card details and use it to shop online</p>
                    </div>

                    <div class="virtual-card-container">
                        <div class="virtual-card" id="virtual-card">
                            <div class="card-front">
                                <div class="card-brand">PLATINUM</div>
                                <div class="card-chip">
                                    <div class="chip-lines">
                                        <div class="chip-line"></div>
                                        <div class="chip-line"></div>
                                        <div class="chip-line"></div>
                                        <div class="chip-line"></div>
                                    </div>
                                </div>
                                <div class="contactless-icon">
                                    <i class="fas fa-wifi"></i>
                                </div>
                                <div class="card-logo">
                                    <span class="swift-logo">SwiftPay</span>
                                </div>
                                <div class="card-name" id="cardholder-name">JOHN DOE</div>
                                <div class="card-network">
                                    <span class="network-logo">PREPAID</span>
                                </div>
                            </div>
                        </div>

                        <div class="swipe-indicator" onclick="toggleCardDetails()">
                            <span>Swipe Down for details</span>
                            <i class="fas fa-chevron-down" id="swipe-arrow"></i>
                        </div>
                    </div>

                    <div class="card-details" id="card-details">
                        <div class="detail-row">
                            <span class="detail-label">Card Number</span>
                            <span class="detail-value" id="card-number">**** **** **** 2847</span>
                            <button class="copy-btn" onclick="copyCardNumber()">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <div class="detail-row">
                            <span class="detail-label">Expiry Date</span>
                            <span class="detail-value">12/28</span>
                        </div>

                        <div class="detail-row">
                            <span class="detail-label">CVV</span>
                            <span class="detail-value" id="cvv-value">***</span>
                            <button class="view-btn" onclick="toggleCVV()">
                                <i class="fas fa-eye" id="cvv-eye"></i>
                            </button>
                        </div>

                        <div class="detail-row">
                            <span class="detail-label">Cardholder Name</span>
                            <span class="detail-value" id="cardholder-detail-name">JOHN DOE</span>
                        </div>

                        <div class="card-actions">
                            <button class="card-action-btn" onclick="freezeCard()">
                                <i class="fas fa-snowflake"></i>
                                <span>Freeze Card</span>
                            </button>
                            <button class="card-action-btn" onclick="showCardSettings()">
                                <i class="fas fa-cog"></i>
                                <span>Card Settings</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Screen -->
            <div class="screen" id="settings-screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="goBack()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>Settings</h2>
                </div>

                <div class="settings-container">
                    <div class="setting-item" onclick="showEditNameModal()">
                        <div class="setting-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Profile Name</h3>
                            <p class="setting-description">Change your display name</p>
                        </div>
                        <div class="setting-action">
                            <i class="fas fa-edit"></i>
                        </div>
                    </div>

                    <div class="setting-item" onclick="showEditBalance()">
                        <div class="setting-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Account Balance</h3>
                            <p class="setting-description">Manage your account balance</p>
                        </div>
                        <div class="setting-action">
                            <i class="fas fa-edit"></i>
                        </div>
                    </div>

                    <div class="setting-item" onclick="showCustomTransactionModal()">
                        <div class="setting-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Custom Transaction</h3>
                            <p class="setting-description">Add custom payment to history</p>
                        </div>
                        <div class="setting-action">
                            <i class="fas fa-plus"></i>
                        </div>
                    </div>

                    <div class="setting-item" onclick="switchCurrency()">
                        <div class="setting-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Currency</h3>
                            <p class="setting-description" id="currency-description">USD ($) - Switch to INR (â‚¹)</p>
                        </div>
                        <button class="setting-action">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                    </div>

                    <div class="setting-item" onclick="showTransactionManagement()">
                        <div class="setting-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Delete Transaction History</h3>
                            <p class="setting-description">Delete all or specific transaction history</p>
                        </div>
                        <button class="setting-action">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="setting-item">
                        <div class="setting-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Notifications</h3>
                            <p class="setting-description">Manage notification preferences</p>
                        </div>
                        <button class="setting-action">
                            <i class="fas fa-toggle-on"></i>
                        </button>
                    </div>

                    <div class="setting-item">
                        <div class="setting-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Security</h3>
                            <p class="setting-description">Change PIN and security settings</p>
                        </div>
                        <button class="setting-action">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="setting-item">
                        <div class="setting-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div class="setting-content">
                            <h3>Theme</h3>
                            <p class="setting-description">Dark mode enabled</p>
                        </div>
                        <button class="setting-action">
                            <i class="fas fa-toggle-on"></i>
                        </button>
                    </div>

                    <div class="setting-item">
                        <div class="setting-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="setting-content">
                            <h3>About</h3>
                            <p class="setting-description">App version and info</p>
                        </div>
                        <button class="setting-action">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Edit Balance Modal -->
            <div class="modal" id="edit-balance-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Edit Balance</h3>
                        <button class="close-btn" onclick="closeEditBalance()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>New Balance</label>
                            <div class="amount-input">
                                <span class="currency-symbol">$</span>
                                <input type="number" id="new-balance" step="0.01" placeholder="0.00">
                            </div>
                        </div>
                        <button class="primary-btn" onclick="updateBalanceValue()">
                            Update Balance
                        </button>
                    </div>
                </div>
            </div>

            <!-- Edit Name Modal -->
            <div class="modal" id="edit-name-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Edit Name</h3>
                        <button class="close-btn" onclick="closeEditName()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>Display Name</label>
                            <input type="text" id="new-name" placeholder="Enter your name">
                        </div>
                        <button class="primary-btn" onclick="updateUserName()">
                            Update Name
                        </button>
                    </div>
                </div>
            </div>

            <!-- Custom Transaction Modal -->
            <div class="modal" id="custom-transaction-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add Custom Transaction</h3>
                        <button class="close-btn" onclick="closeCustomTransactionModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>Transaction Name</label>
                            <input type="text" id="custom-transaction-name" placeholder="Enter transaction name">
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <input type="text" id="custom-transaction-description" placeholder="Enter description">
                        </div>
                        <div class="form-group">
                            <label>Amount</label>
                            <div class="amount-input">
                                <span class="currency-symbol">$</span>
                                <input type="number" id="custom-transaction-amount" step="0.01" placeholder="0.00">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Transaction Type</label>
                            <select id="custom-transaction-type" style="width: 100%; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; font-size: 16px; color: var(--text-primary);">
                                <option value="received">Received Payment</option>
                                <option value="sent">Sent Payment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Avatar URL (Optional)</label>
                            <input type="url" id="custom-transaction-avatar" placeholder="https://example.com/avatar.jpg">
                        </div>
                        <button class="primary-btn" onclick="addCustomTransaction()">
                            Add Transaction
                        </button>
                    </div>
                </div>
            </div>

            <!-- Transaction Management Modal -->
            <div class="modal" id="transaction-management-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Manage Transaction History</h3>
                        <button class="close-btn" onclick="closeTransactionManagement()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="transaction-management-options">
                            <button class="secondary-btn" onclick="deleteAllTransactions()" style="width: 100%; margin-bottom: 16px; background: var(--danger-color); color: white; border: none;">
                                <i class="fas fa-trash"></i>
                                Delete All Transactions
                            </button>
                            <div class="transaction-list-manage" id="transaction-list-manage">
                                <!-- Individual transactions for deletion will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Confirmation Modal -->
            <div class="modal" id="confirmation-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="confirmation-title">Confirm Action</h3>
                        <button class="close-btn" onclick="closeConfirmation()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p id="confirmation-message">Are you sure you want to proceed?</p>
                        <div style="display: flex; gap: 12px; margin-top: 20px;">
                            <button class="secondary-btn" onclick="closeConfirmation()" style="flex: 1;">
                                Cancel
                            </button>
                            <button class="primary-btn" id="confirmation-action-btn" style="flex: 1; background: var(--danger-color);">
                                Confirm
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Details Screen -->
            <div class="screen" id="payment-details-screen">
                <div class="payment-details-page">
                    <!-- Simple Header with Back Button -->
                    <div class="payment-details-simple-header">
                        <button class="back-btn" onclick="closePaymentDetails()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2>Transaction Details</h2>
                    </div>

                    <!-- Success Message Section -->
                    <div class="payment-success-message">
                        <div class="success-tick">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="success-text">
                            <h3>Transaction Successful</h3>
                            <p id="detail-header-time">11:25 am on 20 June 2025</p>
                        </div>
                    </div>

                    <!-- Content Section -->
                    <div class="payment-details-content">
                        <!-- Recipient Section -->
                        <div class="payment-recipient-section">
                            <div class="payment-recipient-header">Paid to</div>
                            <div class="payment-recipient-info">
                                <div class="payment-recipient-left">
                                    <div class="payment-recipient-avatar" id="detail-recipient-avatar">AK</div>
                                    <div class="payment-recipient-details">
                                        <h3 id="detail-recipient-name">Recipient</h3>
                                        <p id="detail-recipient-id">example@upi</p>
                                    </div>
                                </div>
                                <div class="payment-amount-large" id="detail-amount">$0.00</div>
                            </div>
                        </div>

                        <!-- Banking Information -->
                        <div class="payment-banking-info">
                            <div class="banking-info-item">
                                <span class="banking-info-label">Banking Name</span>
                                <span class="banking-info-value verified" id="detail-banking-name">
                                    <span>Recipient Name</span>
                                    <i class="fas fa-shield-check"></i>
                                </span>
                            </div>
                            <div class="banking-info-item">
                                <span class="banking-info-label">Sent to</span>
                                <span class="banking-info-value with-arrow" id="detail-sent-to">example@upi</span>
                            </div>
                        </div>

                        <!-- Transfer Details (Collapsible) -->
                        <div class="transfer-details-section" id="transfer-details-section">
                            <div class="transfer-details-header" onclick="toggleTransferDetails()">
                                <div class="transfer-details-title">
                                    <i class="fas fa-exchange-alt"></i>
                                    Transfer Details
                                </div>
                                <i class="fas fa-chevron-down transfer-details-arrow"></i>
                            </div>
                            <div class="transfer-details-content" id="transfer-details-content">
                                <div class="transfer-detail-item">
                                    <span class="transfer-detail-label">Transaction ID</span>
                                    <span class="transfer-detail-value" id="detail-transaction-id">
                                        TXN123456789
                                        <button class="copy-btn-small" onclick="copyText(this.previousElementSibling.textContent)">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Debited From Section -->
                        <div class="debit-info-section">
                            <div class="debit-info-item">
                                <span class="banking-info-label">Debited from</span>
                            </div>
                            <div class="debit-info-item">
                                <div class="debit-account-info">
                                    <div class="bank-icon">
                                        <i class="fas fa-plus" style="color: white;"></i>
                                    </div>
                                    <div class="debit-account-details">
                                        <h4 id="detail-from-account">XXXXXXXXXX6722</h4>
                                        <p>UTR : <span id="detail-utr">541037121690</span>
                                            <button class="copy-btn-small" onclick="copyText(this.previousElementSibling.textContent)" style="margin-left: 8px;">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </p>
                                    </div>
                                </div>
                                <div class="debit-amount" id="detail-debit-amount">$0.00</div>
                            </div>
                        </div>

                        <!-- Action Buttons Grid -->
                        <div class="payment-actions-grid">
                            <button class="payment-action-btn" onclick="repeatPayment()">
                                <div class="payment-action-icon">
                                    <i class="fas fa-redo"></i>
                                </div>
                                <span class="payment-action-text">Send Again</span>
                            </button>
                            <button class="payment-action-btn" onclick="showHistoryScreen()">
                                <div class="payment-action-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                <span class="payment-action-text">View History</span>
                            </button>
                            <button class="payment-action-btn" onclick="splitExpense()">
                                <div class="payment-action-icon">
                                    <i class="fas fa-user-friends"></i>
                                </div>
                                <span class="payment-action-text">Split Expense</span>
                            </button>
                            <button class="payment-action-btn" onclick="shareTransactionDetails()">
                                <div class="payment-action-icon">
                                    <i class="fas fa-share"></i>
                                </div>
                                <span class="payment-action-text">Share Receipt</span>
                            </button>
                        </div>

                        <!-- Support Section -->
                        <div class="support-section" onclick="contactSupport()">
                            <div class="support-content">
                                <div class="support-left">
                                    <div class="support-icon">
                                        <i class="fas fa-question-circle"></i>
                                    </div>
                                    <span class="support-text">Contact SwiftPay Support</span>
                                </div>
                                <i class="fas fa-chevron-right support-arrow"></i>
                            </div>
                        </div>

                        <!-- Powered By Section -->
                        <div class="powered-by">
                            <div>Powered by</div>
                            <div class="powered-by-logos">
                                <span style="font-weight: 600; color: #10B981;">SwiftPay</span>
                                <span style="color: #666;">â€¢</span>
                                <span style="font-weight: 600; color: #666;">Secure Payments</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Create Wallet Modal -->
            <div class="modal" id="create-wallet-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Create New Wallet</h3>
                        <button class="close-btn" onclick="closeCreateWalletModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>Wallet Name</label>
                            <input type="text" id="new-wallet-name" placeholder="Enter wallet name">
                        </div>
                        <div class="form-group">
                            <label>Initial Balance</label>
                            <div class="amount-input">
                                <span class="currency-symbol">$</span>
                                <input type="number" id="new-wallet-balance" step="0.01" placeholder="0.00">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Wallet Type</label>
                            <select id="new-wallet-type" style="width: 100%; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; font-size: 16px; color: var(--text-primary);">
                                <option value="primary">Primary Wallet</option>
                                <option value="savings">Savings Wallet</option>
                                <option value="business">Business Wallet</option>
                            </select>
                        </div>
                        <button class="primary-btn" onclick="createNewWallet()">
                            Create Wallet
                        </button>
                    </div>
                </div>
            </div>

            <!-- Fullscreen Popup Modal -->
            <div class="modal" id="fullscreen-popup-modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Better Experience</h3>
                    </div>
                    <div class="modal-body">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <i class="fas fa-expand" style="font-size: 48px; color: var(--primary-color); margin-bottom: 16px;"></i>
                            <p style="font-size: 16px; color: var(--text-secondary); margin-bottom: 8px;">
                                For the best experience, we recommend using SwiftPay in fullscreen mode.
                            </p>
                            <p style="font-size: 14px; color: var(--text-secondary);">
                                You can always exit fullscreen by pressing the Escape key.
                            </p>
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <button class="secondary-btn" onclick="closeFullscreenPopup()" style="flex: 1;">
                                Not Now
                            </button>
                            <button class="primary-btn" onclick="acceptFullscreen()" style="flex: 1;">
                                Go Fullscreen
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" onclick="showHomeScreen()">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </button>
            <button class="nav-item" onclick="showHistoryScreen()">
                <i class="fas fa-history"></i>
                <span>History</span>
            </button>
            <button class="nav-item" onclick="showPaymentScreen()">
                <i class="fas fa-plus"></i>
                <span>Pay</span>
            </button>
            <button class="nav-item" onclick="showCardsScreen()">
                <i class="fas fa-credit-card"></i>
                <span>Cards</span>
            </button>
            <button class="nav-item" onclick="showSettingsScreen()">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </button>
        </nav>
    </div>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js');
            });
        }
    </script>
</body>
</html>